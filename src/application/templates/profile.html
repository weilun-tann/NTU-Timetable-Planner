{% extends 'base.html' %}
{% load static %}

{% block title %}
    Profile
{% endblock %}

{% block additional_styles %}
    <link href="{% static 'css/profile.css' %}" rel="stylesheet"/>
    <script src="{% static 'js/profile.js' %}"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="{% static 'js/search.js' %}"></script>
{% endblock %}

{% block body_content %}
    <div class="container-fluid" style="margin-top: 150px;">
        <div class="tree">
            <svg id="tree"></svg>
        </div>
    </div>

    <script>
        let cleared = "{{cleared}}";
        const regex = /(&#x27;)|(\[)|(\])|( )/g;
        let clearedClean = cleared.replace(regex, "");
        let taken = clearedClean.split(",");
        taken.push("Business Course");

        // LOAD FREE DAYS INTO TREE-FORM BEFORE SUBMISSION
        $('#tree-form').submit(function () {
            const freeDayInputs = document.getElementsByClassName('free-day-checkbox');
            console.log(`freeDayInputs.length : ${freeDayInputs.length}`);
            for (let input of freeDayInputs) $("#tree-form").append(input);
            return true;
        });

    </script>

    <script src="{% static 'js/tree.js' %}"></script>
{% endblock %}
